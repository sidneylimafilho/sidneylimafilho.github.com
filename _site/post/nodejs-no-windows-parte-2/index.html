<!DOCTYPE html>
<html>
    
    <head>
        <title>Sidney Lima Filho - Node.js no Windows (Parte 2)
        </title>
        <link href="/themes/default/css/all.css" rel="stylesheet" />
        <link href="/rss.xml" class="feed" rel="alternate" type="application/rss+xml" title="sidneylimafilho.com.br"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="chrome=1" />
        <meta name="google-translate-customization" content="6b8d269fcbc1b6d5-0fa0d030d26cbeaf-ga791899a89db06bb-16"
        />
    </head>
    
    <body>
        <header>
            <div class="wrapper">
                <a href="/"><h1 class="signature">Sidney Lima Filho</h1></a>
                <menu>
                    <ul>
                        <li>
                            <a href="/quem-e-sidney.html" 
                            title="Um pequeno resumo de quem eu sou e porque você deveria acompanhar essa história.">QUEM É SIDNEY</a>
                        </li>
                        <li>
                            <a href="/leituras.html"  title="Veja aqui quais livros estão formando minhas idéias e de que fonte minha mente está bebendo.">LEITURAS</a>
                        </li>
                        <li>
                            <a href="/artigos.html"  title="Os sites que já publicaram conteúdo de minha autoria.">ARTIGOS</a>
                        </li>
                        <li>
                            <a href="/palestras.html" 
                            title="Eventos em que participei palestrando.">PALESTRAS</a>
                        </li>
                        <li>
                            <a href="/life-list.html" 
                            title="Uma lista de coisas que acho imprescindível realizar antes de morrer.">LIFE LIST</a>
                        </li>
                        <li>
                            <a href="/contato.html"  title="O canal mais rápido para falar comigo depois do telefone.">CONTATO</a>
                        </li>
                    </ul>
                </menu>
            </div>
            <div id="google_translate_element">
            </div>
        </header>
        <banner  class="post" >
            <!-- <a href="javascript:;" class="arrow-right"></a>   <a href="javascript:;" class="arrow-left"></a>   -->
            <div class="wrapper">
                <div class="excerpt">
                    <h1>Aprenda como funciona
                    </h1>
                    <h2>Desenvolver Software é a arte de cultivar a informação de forma que ela cresça naturalmente
                        através de mãos distintas.
                    </h2>
                </div>
            </div>
        </banner>
        <section>
            <div class="super">
                <div class="wrapper">
                    <div class="content left-side">
                        <div  class="post" ><article>

  <h1>Node.js no Windows (Parte 2)</h1>
  
  <h4 class="large-bottom">
    Posted on 2011-11-03 00:00:00 -0200
   <!-- -->
  </h4>
  
  
  <div class="content">
    <p><a href='/post/nodejs-no-windows/'>Para entender esse post recomendo a leitura da Parte I</a></p>

<p>Neste post continuo na saga de explicar o Node.js pelo o que ele é, mostrar suas virtudes num ambiente Windows, partindo da premissa que há muita informação sobre o Node.js na web, mas pouca explicando para nós meros mortais usuários de windows como tirar proveito de seu assincronismo.</p>

<p>No fim do post eu coloco alguns links com mais informações para aprofundar o estudo, enquanto isso vamos botar o Node.js na web?</p>

<h2 id='relembrando_o_que__nodejs'>Relembrando: O que é Node.js?</h2>

<p>Node.js é um ambiente que permite executar arquivos JavaScript, usando a engine V8 do Google Chrome que é Open Source, acessando recursos externos de forma assincrona, baseado num modelo orientado a eventos, com a finalidade de criar aplicações de rede altamente escaláveis.</p>

<h2 id='um_servidor_web_de_1_linha_de_cdigo'>Um servidor web de 1 linha de código</h2>

<p>No arquivo anterior ou mostrei que é possível executar arquivos javascript na sua maquina local, como se fossem executáveis. Com o acervo de recursos que o Node.js disponibiliza para acessar recursos externos como rede, filesystem, etc.</p>

<p>Crie um arquivo server.njs na sua maquina local e coloque a seguinte linha nele.</p>

<pre><code>require(&quot;http&quot;).createServer(function(rq,rs){rs.end(&quot;Hello World!&quot;);}).listen(3000); </code></pre>

<p>Salve e se você instalou como no post <a href='/post/nodejs-no-windows/'>Node.js no Windows: Parte 1</a> clique duas vezes no arquivo, senão basta executar na linha de comando a instrução abaixo:</p>

<pre><code>node server.njs </code></pre>

<p>Ao executar abrirá um terminal console sem cursor, pois é o Node.js executando a linha de código esperando uma requisição para executar.</p>

<p><img alt='Console NodeJS executando um servidor de 1 linha de código' src='node_server_1_line.png' /></p>

<p>O receber uma requisição o servidor dispara a function que é passada como argumento da função createServer. Vamos testar isso? Abra o navegador e digite a url http://localhost:3000 e você verá a imagem abaixo.</p>

<p><img alt='Browser mostrando o resultado' src='node_server_1_line_result.png' /></p>

<h2 id='integrando_com_o_legado'>Integrando com o legado</h2>

<p>O código legado é geralmente uma das principais causas de dor de cabeça por desenvolvedores de software, pois sempre quando um desenvolvedor pensa nisso, lembra de acoplamento, código macarrão, falta de arquitetura, arvore de natal, imposição de limites a serem respeitados, além da integração que existe já com outras tecnologias internas e externas ao projeto.</p>

<p>No ambiente Windows o desenvolvimento web é cercado de tecnologias que concorrem entre si, criando um acoplamento grande, tornando inviável descartar ou mudar alguma delas, por exemplo, temos o IIS ocupando a porta 80, hospedando aplicações feitas em ASP, PHP, ColdFusion (?), .NET versões 1.0, 1.1, 2.0, 3.5, 4.0 e 5.0, além do acesso aos mais diversos banco de dados, MySql, MS SqlServer, Oracle, Access (?), etc.</p>

<p>O Node.js quando executa um codigo que disponibiliza um servidor ele precisa ocupar alguma porta para estar disponivel tornando a integração com algum recurso mais dolorosa, ou apenas menos elegante, pois seu servidor web utilizará a porta 80 e sua aplicação terá que usar uma outra porta qualquer, configurar firewall para liberar essa porta, esta porta estará visivel aos usuários que, dependendo da aplicação, pode gerar problemas inconvenientes, entre outros problemas.</p>

<p>Usar o Node.js como um servidor web é possivel, porém atualmente não é recomendado pelo criador dele, pois por mais que essa seja uma das finalidades pelo qual ele foi construido, hoje ele ainda é muito imaturo como uma solução completa, pois há muitas tarefas além de processar dados que um servidor web executa, como servir recursos estáticos como imagens, documentos, videos, ele também precisa reconhecer todos os verbos do protocolo HTTP, cookies, criptografia, HTTPS, tratar multiplos protocolos, etc.</p>

<p>A <a href='http://nodejs.org/cinco_de_node.pdf'>recomendação</a> pelo próprio criador é ao disponibilizar o Node.js em ambiente de produção, colocar um servidor web na frente do Node.js, enquanto amadurece e surgem mais bibliotecas para suportar tudo que um Web Server precisa, assim o WebServer fica responsável por todo o trabalho pesado e o Node.js fica responsável apenas pelo processamento dos dados e da aplicação.</p>

<p><img alt='Infra-estrutura sugerida pelo Ryan' src='node_sugest_infra.png' /></p>

<p>No Windows a infra é parecida porém mudamos o NGINX pelo IIS.</p>

<p><img alt='Infra-estrutura no Windows' src='node_sugest_infra_windows.png' /></p>

<p>Porém ainda falta resolver um problema do Node.js no Windows, que é: Como o Node.js irá se comunicar com o IIS?</p>

<p>Para realizar essa comunicação entre os processos foi criado um projeto chamado <a href='https://github.com/tjanczuk/iisnode'>IISNode</a> criado por <a href='http://tomasz.janczuk.org'>Tomasz Janczuk</a></p>

<h2 id='instalando_o_iisnode'>Instalando o iisnode</h2>

<p>Para instalar o iisnode é muito fácil, há os arquivos instaladores que facilitam todos os passos, além de serem úteis, adicionam alguns recursos no IIS.</p>

<p><strong>Node.js</strong><a href='http://go.microsoft.com/?linkid=9784334'>(x86)</a><br /><em>Instala a ultima versão do Node.js numa pasta ProgramFiles(x86|x64), servindo de base para qualquer applicação, caso você queira usar uma aplicação com outra versão do Node.js há uma opção de configuração que apresentarei mais a frente</em></p>

<p><strong>Microsoft Visual C++ 2010 Redistributable Package</strong> <a href='http://www.microsoft.com/download/en/details.aspx?displaylang=en&amp;id=5555'>(x86)</a> | <a href='http://www.microsoft.com/download/en/details.aspx?id=14632'>(x64)<br /></a><em>O instalador do IIS Node não prosseguirá com a instalação caso sua maquina não posua a biblioteca de componentes do C++, se isso ocorrer aqui estão os links</em></p>

<p><strong>iisnode for iis7</strong> <a href='http://go.microsoft.com/?linkid=9784330'>(x86)</a> | <a href='http://go.microsoft.com/?linkid=9784331'>(x64)</a><br /><em>Aqui está o responsável que permitirá o IIS se comunicar com o Node.js. Você não precisa realmente instalar pois na arquitetura do IIS bastaria adicionar uma referencia no Web.config da aplicação, porém com este instalador ele adiciona esta referencia no Web.config global do .NET, facilitando assim o processo em futuras apps, como também ele checa os requisitos necessários para a DLL funcionar.</em></p>

<p><strong>iisnode for iis7 express</strong> <a href='http://go.microsoft.com/?linkid=9784329'>(x86)</a><br /><em>Caso use o IIS Express, não testei. Porém as referencias que tenho indicam que a instalação é normal e sem maiores percalços</em></p>

<p>Após instalar os 3 itens acima nós já poderemos começar a brincar com o Node.js no IIS, agora fica muito emocionante, pois foi o que eu sempre busquei nos meus ultimos 10 anos de carreira. Rodar Javascript eficientemente no servidor.</p>

<p>Já instalado o iisnode só precisamos agora de 2 coisas: uma arquivo web.config para guardar a configurações, o arquivo javascript que o iisnode irá chamar com o Node.js.</p>

<p><img alt='Unicos arquivos necessários para o iisnode' src='iisnode_sample_files.png' /></p>

<p>O conteúdo do arquivo web.config</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;system.webServer&gt;
    &lt;handlers&gt;
      &lt;add name=&quot;iisnode&quot; path=&quot;server.njs&quot; verb=&quot;*&quot; modules=&quot;iisnode&quot; /&gt;
    &lt;/handlers&gt;
  &lt;/system.webServer&gt;
&lt;/configuration&gt;</code></pre>

<p>O conteúdo do arquivo server.njs</p>

<pre><code>require(&quot;http&quot;)
.createServer(function (req, res) {
	res.end(&quot;Hello, world! Estou na porta: &quot; + process.env.PORT);
})
.listen(process.env.PORT||3000);</code></pre>

<p>Repare que a unica diferença desse servidor de 1 linha de código para a versão que mostramos antes é a variável €œprocess.env.PORT€, pois ela é setada pelo iisnode indicando em qual Named Pipes ele usará para realizar a comunicação com o Node.js.</p>

<p>Outro ponto interessante é que com os passos do <a href='/post/nodejs-no-windows/'>post anterior</a> feitos então se não quisermos depender do IIS, basta clicar 2x no arquivo server.njs, afinal todo arquivo .njs está mapeado para executar com o Node.js, que seu servidor estará rodando na porta 3000, pois como €œprocess.env.PORT€ será undefined, então o operador €œ||€ indica que se a primeira variável for undefined então usa a próxima que no caso é 3000.</p>

<p><img alt='Resultado do iisnode' src='iisnode_server_1_line_result.jpg' /></p>

<p>Se após executar esses passos você for no navegador e ao digitar http://localhost/server.njs, aparecer um erro 500.19 como na imagem abaixo, isso indica que falta o componente URL Rewrite 2.0</p>

<p><img alt='Erro 500.19' src='erro500.19.png' /></p>

<p>Para instalar o URL Rewrite 2.0 é simples usar os instaladores a seguir: <a href='http://go.microsoft.com/?linkid=9722533'>X86</a> | <a href='http://go.microsoft.com/?linkid=9722532'>x64</a></p>

<h2 id='acaba_por_aqui'>Acaba por aqui?</h2>

<p>Não. Na próxima parte mostrarei como montar uma aplicação web inteira no Windows usando Node.js através do IIS, interagindo com o ASP.NET MVC, além de se aprofundar no IISNode e apresentar um toolkit que o permitirá criar em questão de minutos uma aplicação do zero.</p>

<h2 id='mais_referencias'>Mais Referencias</h2>

<p><a href='http://radar.oreilly.com/2011/06/time-to-learn-javascript.html'>Porque aprender Javascript no ano que vem?</a></p>

<p><a href='http://radar.oreilly.com/2011/06/node-javascript-success.html'>Porque Node.js faz tanto sucesso?</a></p>

<p><a href='/post/nodejs-no-windows/'>Node.js no Windows: Parte I</a></p>
  </div>
  
  <!--
  <hr />
  
  
    
      Tagged in
      <strong><a href="/tags/Javascript">Javascript</a></strong>, 
      
    
      
      <strong><a href="/tags/Node.js">Node.js</a></strong>, 
      
    
      
      <strong><a href="/tags/IIS">IIS</a></strong>
      <br />
    
  
  
  <div class="next-prev-nav low-top">
    
      &laquo;&nbsp;<a href="/post/resenha-peopleware" rel="previous" title="Resenha: Peopleware">Resenha: Peopleware</a>
    
  
    
      
        |
      
    
    
  
    
      <a href="/post/resumo-xeque-mate-a-vida-e-um-jogo-de-xadrez" rel="next" title="Resumo: Xeque-Mate, a vida é um jogo de xadrez!">Resumo: Xeque-Mate, a vida é um jogo de xadrez!</a>&nbsp;&raquo;
    
  
    <br />
  </div>
  -->
</article>


  <a name="respond"></a> <!-- For backwards compatibility -->
  <div id="disqus_thread"></div>

  <script type="text/javascript">
      var disqus_shortname = 'novafusion';
      var disqus_identifier = '/post/nodejs-no-windows-parte-2';
      var disqus_url = 'http://localhost/post/nodejs-no-windows-parte-2';
      
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


                        </div>
                    </div>
                    <div class="right-side">
                        <div class="widget">
                            <span class="gravatar">
                                <img src="http://1.gravatar.com/avatar/13c12ed8bb09f191876ae217829b15ed?size=96" />Eu sou Sidney Lima Filho e aqui você saberá sobre quem eu sou e minhas ideias. Abaixo estão
                                as redes sociais que participo e onde você pode me encontrar.
                            </span>
                            <nav>
                                <a href="javascript:;" target="_blank" class="button twitter" title="Pensamentos rápidos via Twitter."></a>
                                <a href="javascript:;" target="_blank" class="button facebook" title="Minha vida social no Facebook."></a>
                                <a href="javascript:;" target="_blank" class="button linkedin" title="Minha rede profissional no Linkedin."></a>
                                <a href="javascript:;" target="_blank" class="button feed" title="Assine meus posts com o RSS."></a>
                            </nav>
                            <nav>
                                <a href="javascript:;" target="_blank" class="button slideshare" title="Veja meus slides no Slideshare."></a>
                                <a href="javascript:;" target="_blank" class="button github" title="O que desenvolvo e coloco no Github."></a>
                                <a href="javascript:;" target="_blank" class="button youtube" title="Filmes que assisto via Youtube."></a>
                                <a href="javascript:;" target="_blank" class="button mail" title="Clique aqui para me enviar uma mensagem."></a>
                            </nav>
                        </div>
                        <div class="widget bookmarks">
                            <h2>Li e Gostei
                            </h2>
                            <ul>
                                <li>
                                    <a href="http://www.bizrevolution.com.br/bizrevolution/2011/01/casamento-e-empreendedorismo-.html"
                                    title="Casamento e Empreendedorismo." class="i">Casamento e Empreendedorismo.</a>
                                    <small>fonte:
                                        <a href="http://www.bizrevolution.com.br/bizrevolution/">BizRevolution</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/insistimento/~3/xsDfjzmhv7k/" title="Deus dará?" class="i">Deus dará?</a>
                                    <small>fonte:
                                        <a href="http://www.insistimento.com.br">Insistimento</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.lucianolima.com.br/post.aspx?id=0d238960-1eeb-42a7-be91-b83dd016978e"
                                    title="Empregabilidade, você vem cuidando da sua?" class="i">Empregabilidade, você vem cuidando da sua?</a>
                                    <small>fonte:
                                        <a href="http://www.lucianolima.com.br/">Luciano Lima</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.israelaece.com/post.aspx?id=b8ece558-f6c8-41c1-9a8e-4303fe72a11c" title="Conte�do de WCF para estudo"
                                    class="i">Conteúdo de WCF para estudo</a>
                                    <small>fonte:
                                        <a href="http://www.israelaece.com/">Israel Aece</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://blogs.msdn.com/b/otavio/archive/2010/09/18/paradoxo-de-schrodinger-e-projetos-de-software.aspx"
                                    title="Paradoxo de Schrodinger e Projetos de Software" class="i">Paradoxo de Schrodinger e Projetos de Software</a>
                                    <small>fonte:
                                        <a href="http://blogs.msdn.com/b/otavio/">Arquitetura em Pauta</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.bizrevolution.com.br/bizrevolution/2010/12/o-sistema-é-foda.html" title="O Sistema é Foda!"
                                    class="i">O Sistema é Foda!</a>
                                    <small>fonte:
                                        <a href="http://www.bizrevolution.com.br/bizrevolution/">BizRevolution</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/PapodehomemLifestyleMagazine/~3/3LZTE0r07o4/story01.htm"
                                    title="O líder ensina pelas costas" class="i">O líder ensina pelas costas</a>
                                    <small>fonte:
                                        <a href="http://papodehomem.com.br">Papo de Homem - Lifestyle Magazine</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/DotNetUnplugged/~3/A_f6q0ntlwo/post.aspx" title="Senior tem cicatriz"
                                    class="i">Senior tem cicatriz</a>
                                    <small>fonte:
                                        <a href="http://blog.lambda3.com.br">Blog Lambda3</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.papodeempreendedor.com.br/marketing/o-segredo-de-um-bom-nome/" title="O segredo de um bom nome"
                                    class="i">O segredo de um bom nome</a>
                                    <small>fonte:
                                        <a href="http://www.papodeempreendedor.com.br">Papo de Empreendedor</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/feedburner/KMzJ/~3/1NlzRGQj1Is/" title="As tr�s perguntas"
                                    class="i">As três perguntas</a>
                                    <small>fonte:
                                        <a href="http://www.insistimento.com.br">Insistimento</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/typepad/sethsmainblog/~3/Y5nO__SHQO4/sprezzatura.html"
                                    title="Sprezzatura" class="i">Sprezzatura</a>
                                    <small>fonte:
                                        <a href="http://sethgodin.typepad.com/seths_blog/">Seth's Blog</a>
                                    </small>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer>
            <div class="wrapper">
                <p>
                    <small>Hosted on GitHub Pages &mdash; Theme by
                        <a href="https://github.com/orderedlist">orderedlist</a>
                    </small>
                </p>
            </div>
        </footer>
    </body>

</html>
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'pt',
            includedLanguages: 'en',
            layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        }, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js">    
    </script>
<![endif]-->
<!--[if IE]>
    <script type="text/javascript" src="http://fast.fonts.com/jsapi/d34e3f76-678a-447e-a024-f6b2e5185713.js">    
    </script>
<![endif]-->
<script src="http://code.jquery.com/jquery-1.8.0.min.js" type="text/javascript">
</script>
<script src="http://www.google.com/jsapi" type="text/javascript">
</script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.0.js" type="text/javascript">
</script>
<script src="tags.js" type="text/javascript">
</script>
<script type="text/javascript">
    function ViewModel() {
        var it = this;
        it.User = {
            name: "sidneylimafilho",
            mail: "https://docs.google.com/spreadsheet/viewform?formkey=dEtLSzNWdXlnanJMdTN6WmtQb2VnMlE6MQ",
            twitter: "sidneylimafilho",
            facebook: "sidneylimafilho",
            linkedin: "sidneylimafilho",
            youtube: {
                name: "TheSidneyLimaFilho",
                embedUrl: "http://www.youtube.com/embed/",
                userUrl: "http://www.youtube.com/user/"
            },
            github: "sidneylimafilho",
            slideshare: "sidneylimafilho",
            feed: "/rss.xml",
            delicious: {
                name: "sidneylimafilho",
                tag: "Favorite"
            }
        };

        it.MostRecentVideo = ko.observable({
            id: ''
        });
        it.Videos = ko.observableArray([]);

        it.Initialize = function() {

            // ICONES            
            $('.twitter').attr('href', 'http://twitter.com/' + it.User.twitter);
            $('.facebook').attr('href', 'http://facebook.com/' + it.User.facebook);
            $('.linkedin').attr('href', 'http://br.linkedin.com/in/' + it.User.linkedin);
            $('.feed').attr('href', it.User.feed);

            $('.youtube').attr('href', it.User.youtube.userUrl + it.User.youtube.name);
            $('.slideshare').attr('href', 'http://slideshare.net/' + it.User.slideshare);
            $('.github').attr('href', 'http://github.com/' + it.User.github);
            $('.mail').attr('href', it.User.mail);


            // YOUTUBE
            $.getJSON("http://gdata.youtube.com/feeds/api/users/" + it.User.youtube.name + "/favorites?alt=jsonc&v=2", function(json) {
                for (var i in json.data.items)
                if (item = json.data.items[i]) if (i < 4 && item.video.accessControl.embed === 'allowed') if (i === "0") {
                    it.MostRecentVideo(item.video);
                } else {
                    it.Videos.push(item.video);
                }

            });


            ko.applyBindings(it);
        }

        it.ShowVideo = function(elem) {
            return function() {
                var temp = it.Videos();
                temp[temp.indexOf(this)] = it.MostRecentVideo();
                it.Videos(temp);
                it.MostRecentVideo(this);
            }
        }

    };

    (vm = new ViewModel()).Initialize();
/*  
    google.load("feeds", "1");

    // FEEDS            
    google.setOnLoadCallback(function feeds() {

        // TWITTER
        $.getJSON("http://api.twitter.com/1/statuses/user_timeline.json?screen_name=" + user.twitter + "&callback=?", function(json) {
            document.title = json[0].user.description + " - " + json[0].user.name;
            $('#nome').html(json[0].user.name);
            $('#site').html(json[0].user.url);
            $('#site').attr('href', json[0].user.url);
            $('#descricao').html(json[0].user.description);
            $.each(json, function(i, tweet) {
                if (!tweet.text.match("@") && $("#twitter i").html() == "Carregando...") {
                    $('#twitter i').html('"' + tweet.text + '"');
                    $('#twitter a').html("@" + tweet.user.screen_name);
                    $('#twitter a').attr("href", "http://twitter.com/" + user.twitter);
                }
            });
        });


        // GITHUB
        $.getJSON("http://github.com/api/v2/json/repos/show/" + user.github + "?callback=?", function(json) {
            $('#projetos > .place').html("");
            $.each(json.repositories.reverse(), function(i, repository) {
                $('#projetos > .place').append('<a class="repository" href="http://github.com/' + repository.owner + '/' + repository.name + '" target="_blank"><h3>' + repository.name + '</h3>' + repository.description.substring(0, 40) + '</a>');
            });
            $('#projetos').append('<a class="more" href="http://github.com/' + user.github + '" target="_blank">+ projetos</a>');
        });

        // DELICIOUS
        $.getJSON("http://feeds.delicious.com/v2/json/" + user.delicious.self + "/" + user.delicious.tag + "?callback=?", function(json) {
            $('#sites > .place').html("");
            $.each(json, function(i, site) {
                $('#sites > .place').append('<a class="site" href="' + site.u + '" target="_blank">' + site.d.substring(0, 40) + '</a>');
            });
            $('#sites').append('<a class="more" href="http://www.delicious.com/' + user.delicious.self + '/byme" target="_blank">+ sites</a>');
        });

        // APRESENTACOES
        var apresentacoes = new google.feeds.Feed("http://www.slideshare.net/rss/user/" + user.slideshare);
        apresentacoes.load(function(result) {
            $('#apresentacoes > .place').html("");
            $.each(result.feed.entries, function(i, slide) {
                $('#apresentacoes > .place').append('<a href="' + slide.link + '" target="_blank">' + slide.title + '</a>');
            });
            $('#apresentacoes').append('<a class="more" href="http://www.slideshare.net/' + user.slideshare + '" target="_blank">+ apresentações</a>')
        });
        
    });
*/
</script>
<script type="text/html" id="tagsTemplate">
    < h2 class = "post_title" > {. {
            page.title
        }
    } < /h2>





    <ul>





 





 <li class="archive_list">





 





 <time style="color:#666;font-size:11px;" datetime='{.{post.date | date: "%Y-%m-%d"}}'>{.{post.date | date: "%m/ % d / % y "}}</time>





 





 





    <a class="
    archive_list_article_link " href='{.{post.url}}'>{.{post.title}}</a>





 





 





    <p class="
    summary ">





                    





 <span>{.{post.summary}}</span>





 





 





    <ul class="
    tag_list ">





 





    {.% for tag in post.tags %}





 





    <li class="
    inline archive_list ">





 





 <a class="
    tag_list_link " href=" / tag / {. {
            tag
        }
    }
    ">{.{ tag }}</a>





 











    </li>











     {.%endfor%}





 





    </ul>





 





 





    </p>





 





 





    </li>





 











    </ul>





 









































 









































 









































 









































 





</script>
