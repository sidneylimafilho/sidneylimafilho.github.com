<!DOCTYPE html>
<html>
    
    <head>
        <title>Sidney Lima Filho - Node.js no Windows
        </title>
        <link href="/themes/default/css/all.css" rel="stylesheet" />
        <link href="/rss.xml" class="feed" rel="alternate" type="application/rss+xml" title="sidneylimafilho.com.br"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="chrome=1" />
        <meta name="google-translate-customization" content="6b8d269fcbc1b6d5-0fa0d030d26cbeaf-ga791899a89db06bb-16"
        />
    </head>
    
    <body>
        <header>
            <div class="wrapper">
                <a href="/"><h1 class="signature">Sidney Lima Filho</h1></a>
                <menu>
                    <ul>
                        <li>
                            <a href="/quem-e-sidney.html" 
                            title="Um pequeno resumo de quem eu sou e porque você deveria acompanhar essa história.">QUEM É SIDNEY</a>
                        </li>
                        <li>
                            <a href="/leituras.html"  title="Veja aqui quais livros estão formando minhas idéias e de que fonte minha mente está bebendo.">LEITURAS</a>
                        </li>
                        <li>
                            <a href="/artigos.html"  title="Os sites que já publicaram conteúdo de minha autoria.">ARTIGOS</a>
                        </li>
                        <li>
                            <a href="/palestras.html" 
                            title="Eventos em que participei palestrando.">PALESTRAS</a>
                        </li>
                        <li>
                            <a href="/life-list.html" 
                            title="Uma lista de coisas que acho imprescindível realizar antes de morrer.">LIFE LIST</a>
                        </li>
                        <li>
                            <a href="/contato.html"  title="O canal mais rápido para falar comigo depois do telefone.">CONTATO</a>
                        </li>
                    </ul>
                </menu>
            </div>
            <div id="google_translate_element">
            </div>
        </header>
        <banner  class="post" >
            <!-- <a href="javascript:;" class="arrow-right"></a>   <a href="javascript:;" class="arrow-left"></a>   -->
            <div class="wrapper">
                <div class="excerpt">
                    <h1>Aprenda como funciona
                    </h1>
                    <h2>Desenvolver Software é a arte de cultivar a informação de forma que ela cresça naturalmente
                        através de mãos distintas.
                    </h2>
                </div>
            </div>
        </banner>
        <section>
            <div class="super">
                <div class="wrapper">
                    <div class="content left-side">
                        <div  class="post" ><article>

  <h1>Node.js no Windows</h1>
  
  <h4 class="large-bottom">
    Posted on 2011-05-18 00:00:00 -0300
   <!-- -->
  </h4>
  
  
  <div class="content">
    <h2 id='o_que_o_javascript_'>O que o Javascript é?</h2>

<p>Antes de começar a contar uma breve história do Javascript, um ponto a observar é que o Javascript não é uma linguagem puramente da web como muitos imaginam, ela roda localmente como qualquer linguagem script, se você usa Windows no dia-a-dia, assim como eu, noterá que ele esteve sempre ao seu lado e você nem sabia.</p>

<p>Exemplo. Você pode criar um arquivo .js, clicar duas vezes nele que ele executará. Claro, quando se escreve um javascript dessa forma o paradigma de programação é outro. Você não tem window, document, DOM, alert, o JQuery não funciona, nem as coisas de HTML em geral, você passa a ter acesso a funções que normalmente você não usaria como CreateObject, MsgBox, WScript, que por sua vez não funciona nos browsers, mas a linguagem é a mesma, o mesmo FOR, IF, WHILE, EVAL, FUNCTION, etc. Se quiser mais informações de quais opções estão disponíveis para desenvolver em javascript no Windows você pode acessar o site do MSDN</p>

<p><img alt='' src='wscript.png' /></p>

<p>Guia Referencia <a href='http://msdn.microsoft.com/en-us/library/9bbdkx3k(v=VS.85).aspx'>http://msdn.microsoft.com/en-us/library/9bbdkx3k(v=VS.85).aspx</a></p>

<p>JScript on Windows <a href='http://msdn.microsoft.com/en-us/library/xazzc41b(v=VS.85).aspx'>http://msdn.microsoft.com/en-us/library/xazzc41b(v=VS.85).aspx</a></p>

<p>Manipulando Arquivos e Diretorios <a href='http://msdn.microsoft.com/en-us/library/ch28h2s7(v=VS.85).aspx'>http://msdn.microsoft.com/en-us/library/ch28h2s7(v=VS.85).aspx</a></p>

<h2 id='um_breve_histrico'>Um Breve Histórico</h2>

<p>Agora que você já sabe que Javascript não é uma linguagem só de navegador, já sabe que ela serve para mais coisas inclusive para realizar tarefas no Windows, então vamos a outra aplicabilidade dela, que é o lado server-side, isso mesmo, usar o javascript para processar nossas páginas HTML do lado do servidor.</p>

<p>O javascript no lado servidor não é algo novo, muito menos uma façanha e nem revolucionário como muitos imaginam. A Netscape, empresa que contratou <a href='http://brendaneich.com/'>Brendan Eich</a>, para desenvolver uma linguagem para tudo relacionado a Web (note que Web é tanto o lado cliente, com os browsers, como também é o lado servidor) sabia que a Web necessitava de:</p>

<ul>
<li><strong>Linguagem dinâmica</strong>, pois cada pagina poderia ter estruturas diferentes;</li>

<li><strong>Fracamente tipada</strong>, pois os dados principais na Web são texto e haveria conversão o tempo todo;</li>

<li><strong>Conversão implícita</strong>, pois além do motivo acima, o desenvolvimento deveria ser focado na utilização dos recursos ao invés do conteúdo deles;</li>

<li><strong>Derivar de uma linguagem conhecida</strong>, com o objetivo de facilitar a migração dos desenvolvedores nativos para a programação Web;</li>

<li><strong>Script</strong>, pois cada página tem lógica própria, portanto não faria sentido ter um executável por página do lado servidor e do lado cliente fosse facilmente acoplado as estruturas HTML existentes;</li>
</ul>

<p>Nesta época, <a href='http://en.wikipedia.org/wiki/Timeline_of_programming_languages#1990s'>em torno de 1995</a>, a Netscape junto com <a href='http://brendaneich.com/'>Brendan Eich</a>, criaram o Livescript que no ano seguinte, com a junção e aprovação da SUN incluindo-a no processo, pois a Netscape queria dar suporte a Java Applets no seu revolucionário <a href='http://en.wikipedia.org/wiki/Netscape_Navigator'>Netscape Navigator</a>, passou a se chamar de JavaScript, numa referencia explicita a linguagem que derivou seu estilo de codificação. (Esta referencia nota-se até hoje, na equipe da Mozila, desenvolvendo a nova <a href='http://wiki.ecmascript.org/doku.php?id=harmony:proposals'>especificação da evolução</a> da linguagem, <a href='https://developer.mozilla.org/en/JavaScript/Reference/Reserved_Words'>várias palavras reservadas do Java vão aparecer no Javascript</a>)</p>

<p>Neste momento a própria Netscape viu que a linguagem era muito interessante e já começava a criar seu próprio servidor web, para rodar seu &#8220;LiveScript&#8221; que se chamava <a href='http://pt.wikipedia.org/wiki/Netscape_Enterprise_Server'>Netscape Enterprise Server</a>, através do Netscape LiveWire, que rodava <a href='http://en.wikipedia.org/wiki/Server-side_JavaScript'>SSJS (Server Side Javascript)</a>, olha um <a href='http://www.datacraft.com/livewire.html'>exemplo de código</a> da época.</p>

<p>A Microsoft em 1997 (ou em 1998, não lembro bem agora) também se interessou pela tecnologia e adotou-a em seus ambientes, porém após uma briga com a SUN, pois usava a marca Java, ela foi judicialmente obrigada a mudar o nome da linguagem Javascript que ela usava, então ou ela continuava a usar uma linguagem chamada Javascript e pagava os royalties ou usava outra linguagem, nesse ínterim ela tentou emplacar um VBScript, sem sucesso e acabou &#8220;inventando&#8221; uma nova linguagem o JScript, que é praticamente igual ao Javascript, só diferenciou naquilo que um juiz federal entende, ou seja, quase nada.</p>

<p>Não se importando se era Javascript ou JScript, a Microsoft também ofereceu suporte tanto do lado cliente com seu maravilhoso Internet Explorer (sic) e do lado servidor com as poderosas Active Server Pages (essas sim eram realmente eram poderosas).</p>

<h2 id='se_tudo_isso_j_existia_qual_a_vantagem_do_nodejs'>Se tudo isso já existia, qual a vantagem do Node.JS?</h2>

<p>Como você já sabe o principal objetivo do Node.JS é permitir criar aplicações de rede <a href='http://en.wikipedia.org/wiki/Scalability#Scale_horizontally_.28scale_out.29'>altamente escaláveis</a>, isso signfica que há alguns <a href='http://bulk.fefe.de/scalable-networking.pdf'>desafios</a> <a href='http://en.wikipedia.org/wiki/CAP_theorem'>físicos</a> a serem vencidos, como por exemplo o problema das <a href='http://www.kegel.com/c10k.html'>10000 conexões</a> simultâneas. Além disso, outra grande vantagem é usar o motor V8, que o pessoal do Google criou para o Javascript (os compiladores e VM&#8217;s da época eram lentas e buguentas), para dar uma turbinada na linguagem tornando-a muito mais eficiente e equivalente em performance a linguagens de peso como C#, PHP, Python, Ruby e Java.</p>

<h2 id='t_mas_e_o_titulo_do_post'>Tá mas e o titulo do post?</h2>

<p>OK, eu precisava contar um pouco de história para que as coisas, que virão pela frente, façam sentido. Agora vamos ao que interessa. O Node.js foi um projeto que começou no Linux com a galera do mundo open source (novidade?), porem mais uma vez a Microsoft viu e se interessou pelo projeto, assim destacou 2 profissionais para colaborar ativamente a tornar o Node.js rodando no Windows (afinal ela vende Windows e já estava de olho na sua plataform-as-a-service Azure, certo?), ajudou com conhecimento, recursos, acesso a informações privilegiadas e assim removeu-se os acoplamentos ao kernel do Linux, <a href='http://twitter.com/#!/ryah/status/106123259908599808'>sem perder sua performance</a> que é muito importante, promovendo uma maior adaptabilidade aos usuários Windows.</p>

<p>Com isso existe duas formas de se instalar o Node.js no Windows:</p>

<ol>
<li>Baixa o código fonte, descobre que precisa de um emulador POSIX (msys ou cygwin), tenta compilar, descobre que precisa baixar uma parafernália que você não faz idéia para que serve, tenta de novo, a compilação falha pela falta de alguma variável de ambiente, tenta de novo, assim sucessivamente.</li>

<li>Estilo WIN: Baixa o arquivo executável, clica duas vezes e funciona.</li>
</ol>

<p>Na primeira opção, uma vez conseguindo, ela te abre mais opções de plugins / ferramentas / frameworks desenvolvidos pela comunidade, <a href='https://groups.google.com/d/topic/nodejs-dev/1z4PTv7fHro/discussion'>mas isso já está mudando</a>, como o NPM que só funciona no estilo UNIX.</p>

<p>Como a maioria das coisas que realmente importam, estão funcionando para os dois modos, então vou começar pela segunda opção e que mais se aproxima da nossa realidade.</p>

<h2 id='passoapasso'>Passo-a-Passo</h2>

<ol>
<li>Acesse o seguinte endereço <a href='http://nodejs.org/#download'>http://nodejs.org/#download</a></li>

<li>Baixe o executável para Windows</li>

<li>Clique 2x no arquivo node.exe</li>
</ol>

<p><img alt='' src='download_node.js.png' /></p>

<h2 id='no_acredito_que_voc_me_fez_ler_isso_tudo_para_apenas_trs_passos'>Não acredito que você me fez ler isso tudo para apenas três passos</h2>

<p>Não, esses 3 passos foram apenas para mostrar funcionando, porém para executar arquivos com código javascript e integrar ao ambiente são necessários mais passos, que explicarei mais adiante.</p>

<p>Quando você clica 2x no arquivo node.exe, ele abre um console e coloca um cursor piscando, este console é o REPL (Read-Eval-Print-Loop), ou seja, ele lê o que você escreve, avalia se é um javascript válido, imprime o resultado caso haja e começa tudo de novo, esperando você escrever a próxima instrução. Isso nos permite programar e ver o resultado na tela, semelhante ao que algumas IDE&#8217;s fazem, por exemplo, o Visual Studio.</p>

<p><img alt='' src='repl.png' /></p>

<p><img alt='' src='repl_vs2008.png' /></p>

<p>Mas e se quisermos executar um arquivo? Não tem problema entra no console e digita &#8220;node exemplo.js&#8221;</p>

<p><img alt='' src='node-no-console.png' /></p>

<p>Tem como eu não depender do console?</p>

<p>Claro, essa é a finalidade do artigo, mas primeiro vamos voltar ao conceito. Se lembra que no começo desse artigo eu falei sobre o paradigma de desenvolvimento local é diferente de desenvolver para web? Então com o Node.js é a mesma coisa, existem keywords que tem no Node.js que não terão no browser, o código é javascript mas os ambientes não são os mesmos. Veja na imagem do REPL que eu escrevi propositalmente um &#8220;alert&#8221; e ele retornou que era &#8220;undefined&#8221;, porem escrevi &#8220;process.versions.node&#8221; e retornou &#8220;0.5.8&#8221;, já que a palavra &#8220;process&#8221; é uma variável reservada no Node.js, que declara informações do processo que está em execução.</p>

<p>Então para facilitar o reconhecimento desses arquivos Node.js, eu passo a nomeá-los com a extensão &#8220;njs&#8221;, isso não é obrigatório, porém mais na frente quando você tiver inúmeros arquivos &#8220;js&#8221;, não saberá reconhecer facilmente no seu projeto se aquele &#8220;common.js&#8221; é um arquivo com funções para o browser, ou para suas páginas no servidor, ou são funções matemáticas e de manipulação de string, genéricas que servem para os dois ambientes.</p>

<p>Os arquivos javascript que são usados nos projetos web, usados no HTML e browser eu continuo usando a extensão &#8220;js&#8221;, até mesmo por causa dos arquivos já existentes, porém a partir deste momento os arquivos que uso através do Node.js eu uso a extensão &#8220;njs&#8221;.</p>

<p>Com essa convenção criada, fica mais fácil integrar ao ambiente, pois bastará associar esta extensão ao Node.js, que o Windows reconhecerá quando eu clicar 2x no arquivo NJS, ele executará usando o Node.js. Para associar a extensão basta executar no console do windows (CMD), as duas linhas abaixo, prestando a atenção para mudar o caminho do executável para onde você colocou o arquivo original.</p>

<p>REG ADD &#8220;HKEY_CURRENT_USER\Software\Classes\joyent.node.js\shell\open\command&#8221; /ve /d &#8220;c:\node\node.exe %1&#8221; /f</p>

<p>REG ADD &#8220;HKEY_CURRENT_USER\Software\Classes.njs&#8221; /ve /d &#8220;joyent.node.js&#8221;</p>

<p>Prontinho agora seus scripts executam no Windows perfeitamente.</p>

<p>Em breve, publicarei a segunda parte deste post explicando como usar o Node.js como um servidor web.</p>
  </div>
  
  <!--
  <hr />
  
  
    
      Tagged in
      <strong><a href="/tags/Javascript">Javascript</a></strong>, 
      
    
      
      <strong><a href="/tags/Node.js">Node.js</a></strong>
      <br />
    
  
  
  <div class="next-prev-nav low-top">
    
  
    
    
  
    
      <a href="/post/resenha-peopleware" rel="next" title="Resenha: Peopleware">Resenha: Peopleware</a>&nbsp;&raquo;
    
  
    <br />
  </div>
  -->
</article>


  <a name="respond"></a> <!-- For backwards compatibility -->
  <div id="disqus_thread"></div>

  <script type="text/javascript">
      var disqus_shortname = 'novafusion';
      var disqus_identifier = '/post/nodejs-no-windows';
      var disqus_url = 'http://localhost/post/nodejs-no-windows';
      
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


                        </div>
                    </div>
                    <div class="right-side">
                        <div class="widget">
                            <span class="gravatar">
                                <img src="http://1.gravatar.com/avatar/13c12ed8bb09f191876ae217829b15ed?size=96" />Eu sou Sidney Lima Filho e aqui você saberá sobre quem eu sou e minhas ideias. Abaixo estão
                                as redes sociais que participo e onde você pode me encontrar.
                            </span>
                            <nav>
                                <a href="javascript:;" target="_blank" class="button twitter" title="Pensamentos rápidos via Twitter."></a>
                                <a href="javascript:;" target="_blank" class="button facebook" title="Minha vida social no Facebook."></a>
                                <a href="javascript:;" target="_blank" class="button linkedin" title="Minha rede profissional no Linkedin."></a>
                                <a href="javascript:;" target="_blank" class="button feed" title="Assine meus posts com o RSS."></a>
                            </nav>
                            <nav>
                                <a href="javascript:;" target="_blank" class="button slideshare" title="Veja meus slides no Slideshare."></a>
                                <a href="javascript:;" target="_blank" class="button github" title="O que desenvolvo e coloco no Github."></a>
                                <a href="javascript:;" target="_blank" class="button youtube" title="Filmes que assisto via Youtube."></a>
                                <a href="javascript:;" target="_blank" class="button mail" title="Clique aqui para me enviar uma mensagem."></a>
                            </nav>
                        </div>
                        <div class="widget bookmarks">
                            <h2>Li e Gostei
                            </h2>
                            <ul>
                                <li>
                                    <a href="http://www.bizrevolution.com.br/bizrevolution/2011/01/casamento-e-empreendedorismo-.html"
                                    title="Casamento e Empreendedorismo." class="i">Casamento e Empreendedorismo.</a>
                                    <small>fonte:
                                        <a href="http://www.bizrevolution.com.br/bizrevolution/">BizRevolution</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/insistimento/~3/xsDfjzmhv7k/" title="Deus dará?" class="i">Deus dará?</a>
                                    <small>fonte:
                                        <a href="http://www.insistimento.com.br">Insistimento</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.lucianolima.com.br/post.aspx?id=0d238960-1eeb-42a7-be91-b83dd016978e"
                                    title="Empregabilidade, você vem cuidando da sua?" class="i">Empregabilidade, você vem cuidando da sua?</a>
                                    <small>fonte:
                                        <a href="http://www.lucianolima.com.br/">Luciano Lima</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.israelaece.com/post.aspx?id=b8ece558-f6c8-41c1-9a8e-4303fe72a11c" title="Conte�do de WCF para estudo"
                                    class="i">Conteúdo de WCF para estudo</a>
                                    <small>fonte:
                                        <a href="http://www.israelaece.com/">Israel Aece</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://blogs.msdn.com/b/otavio/archive/2010/09/18/paradoxo-de-schrodinger-e-projetos-de-software.aspx"
                                    title="Paradoxo de Schrodinger e Projetos de Software" class="i">Paradoxo de Schrodinger e Projetos de Software</a>
                                    <small>fonte:
                                        <a href="http://blogs.msdn.com/b/otavio/">Arquitetura em Pauta</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.bizrevolution.com.br/bizrevolution/2010/12/o-sistema-é-foda.html" title="O Sistema é Foda!"
                                    class="i">O Sistema é Foda!</a>
                                    <small>fonte:
                                        <a href="http://www.bizrevolution.com.br/bizrevolution/">BizRevolution</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/PapodehomemLifestyleMagazine/~3/3LZTE0r07o4/story01.htm"
                                    title="O líder ensina pelas costas" class="i">O líder ensina pelas costas</a>
                                    <small>fonte:
                                        <a href="http://papodehomem.com.br">Papo de Homem - Lifestyle Magazine</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/DotNetUnplugged/~3/A_f6q0ntlwo/post.aspx" title="Senior tem cicatriz"
                                    class="i">Senior tem cicatriz</a>
                                    <small>fonte:
                                        <a href="http://blog.lambda3.com.br">Blog Lambda3</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://www.papodeempreendedor.com.br/marketing/o-segredo-de-um-bom-nome/" title="O segredo de um bom nome"
                                    class="i">O segredo de um bom nome</a>
                                    <small>fonte:
                                        <a href="http://www.papodeempreendedor.com.br">Papo de Empreendedor</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/feedburner/KMzJ/~3/1NlzRGQj1Is/" title="As tr�s perguntas"
                                    class="i">As três perguntas</a>
                                    <small>fonte:
                                        <a href="http://www.insistimento.com.br">Insistimento</a>
                                    </small>
                                </li>
                                <li>
                                    <a href="http://feedproxy.google.com/~r/typepad/sethsmainblog/~3/Y5nO__SHQO4/sprezzatura.html"
                                    title="Sprezzatura" class="i">Sprezzatura</a>
                                    <small>fonte:
                                        <a href="http://sethgodin.typepad.com/seths_blog/">Seth's Blog</a>
                                    </small>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer>
            <div class="wrapper">
                <p>
                    <small>Hosted on GitHub Pages &mdash; Theme by
                        <a href="https://github.com/orderedlist">orderedlist</a>
                    </small>
                </p>
            </div>
        </footer>
    </body>

</html>
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'pt',
            includedLanguages: 'en',
            layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        }, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js">    
    </script>
<![endif]-->
<!--[if IE]>
    <script type="text/javascript" src="http://fast.fonts.com/jsapi/d34e3f76-678a-447e-a024-f6b2e5185713.js">    
    </script>
<![endif]-->
<script src="http://code.jquery.com/jquery-1.8.0.min.js" type="text/javascript">
</script>
<script src="http://www.google.com/jsapi" type="text/javascript">
</script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.0.js" type="text/javascript">
</script>
<script src="tags.js" type="text/javascript">
</script>
<script type="text/javascript">
    function ViewModel() {
        var it = this;
        it.User = {
            name: "sidneylimafilho",
            mail: "https://docs.google.com/spreadsheet/viewform?formkey=dEtLSzNWdXlnanJMdTN6WmtQb2VnMlE6MQ",
            twitter: "sidneylimafilho",
            facebook: "sidneylimafilho",
            linkedin: "sidneylimafilho",
            youtube: {
                name: "TheSidneyLimaFilho",
                embedUrl: "http://www.youtube.com/embed/",
                userUrl: "http://www.youtube.com/user/"
            },
            github: "sidneylimafilho",
            slideshare: "sidneylimafilho",
            feed: "/rss.xml",
            delicious: {
                name: "sidneylimafilho",
                tag: "Favorite"
            }
        };

        it.MostRecentVideo = ko.observable({
            id: ''
        });
        it.Videos = ko.observableArray([]);

        it.Initialize = function() {

            // ICONES            
            $('.twitter').attr('href', 'http://twitter.com/' + it.User.twitter);
            $('.facebook').attr('href', 'http://facebook.com/' + it.User.facebook);
            $('.linkedin').attr('href', 'http://br.linkedin.com/in/' + it.User.linkedin);
            $('.feed').attr('href', it.User.feed);

            $('.youtube').attr('href', it.User.youtube.userUrl + it.User.youtube.name);
            $('.slideshare').attr('href', 'http://slideshare.net/' + it.User.slideshare);
            $('.github').attr('href', 'http://github.com/' + it.User.github);
            $('.mail').attr('href', it.User.mail);


            // YOUTUBE
            $.getJSON("http://gdata.youtube.com/feeds/api/users/" + it.User.youtube.name + "/favorites?alt=jsonc&v=2", function(json) {
                for (var i in json.data.items)
                if (item = json.data.items[i]) if (i < 4 && item.video.accessControl.embed === 'allowed') if (i === "0") {
                    it.MostRecentVideo(item.video);
                } else {
                    it.Videos.push(item.video);
                }

            });


            ko.applyBindings(it);
        }

        it.ShowVideo = function(elem) {
            return function() {
                var temp = it.Videos();
                temp[temp.indexOf(this)] = it.MostRecentVideo();
                it.Videos(temp);
                it.MostRecentVideo(this);
            }
        }

    };

    (vm = new ViewModel()).Initialize();
/*  
    google.load("feeds", "1");

    // FEEDS            
    google.setOnLoadCallback(function feeds() {

        // TWITTER
        $.getJSON("http://api.twitter.com/1/statuses/user_timeline.json?screen_name=" + user.twitter + "&callback=?", function(json) {
            document.title = json[0].user.description + " - " + json[0].user.name;
            $('#nome').html(json[0].user.name);
            $('#site').html(json[0].user.url);
            $('#site').attr('href', json[0].user.url);
            $('#descricao').html(json[0].user.description);
            $.each(json, function(i, tweet) {
                if (!tweet.text.match("@") && $("#twitter i").html() == "Carregando...") {
                    $('#twitter i').html('"' + tweet.text + '"');
                    $('#twitter a').html("@" + tweet.user.screen_name);
                    $('#twitter a').attr("href", "http://twitter.com/" + user.twitter);
                }
            });
        });


        // GITHUB
        $.getJSON("http://github.com/api/v2/json/repos/show/" + user.github + "?callback=?", function(json) {
            $('#projetos > .place').html("");
            $.each(json.repositories.reverse(), function(i, repository) {
                $('#projetos > .place').append('<a class="repository" href="http://github.com/' + repository.owner + '/' + repository.name + '" target="_blank"><h3>' + repository.name + '</h3>' + repository.description.substring(0, 40) + '</a>');
            });
            $('#projetos').append('<a class="more" href="http://github.com/' + user.github + '" target="_blank">+ projetos</a>');
        });

        // DELICIOUS
        $.getJSON("http://feeds.delicious.com/v2/json/" + user.delicious.self + "/" + user.delicious.tag + "?callback=?", function(json) {
            $('#sites > .place').html("");
            $.each(json, function(i, site) {
                $('#sites > .place').append('<a class="site" href="' + site.u + '" target="_blank">' + site.d.substring(0, 40) + '</a>');
            });
            $('#sites').append('<a class="more" href="http://www.delicious.com/' + user.delicious.self + '/byme" target="_blank">+ sites</a>');
        });

        // APRESENTACOES
        var apresentacoes = new google.feeds.Feed("http://www.slideshare.net/rss/user/" + user.slideshare);
        apresentacoes.load(function(result) {
            $('#apresentacoes > .place').html("");
            $.each(result.feed.entries, function(i, slide) {
                $('#apresentacoes > .place').append('<a href="' + slide.link + '" target="_blank">' + slide.title + '</a>');
            });
            $('#apresentacoes').append('<a class="more" href="http://www.slideshare.net/' + user.slideshare + '" target="_blank">+ apresentações</a>')
        });
        
    });
*/
</script>
<script type="text/html" id="tagsTemplate">
    < h2 class = "post_title" > {. {
            page.title
        }
    } < /h2>





    <ul>





 





 <li class="archive_list">





 





 <time style="color:#666;font-size:11px;" datetime='{.{post.date | date: "%Y-%m-%d"}}'>{.{post.date | date: "%m/ % d / % y "}}</time>





 





 





    <a class="
    archive_list_article_link " href='{.{post.url}}'>{.{post.title}}</a>





 





 





    <p class="
    summary ">





                    





 <span>{.{post.summary}}</span>





 





 





    <ul class="
    tag_list ">





 





    {.% for tag in post.tags %}





 





    <li class="
    inline archive_list ">





 





 <a class="
    tag_list_link " href=" / tag / {. {
            tag
        }
    }
    ">{.{ tag }}</a>





 











    </li>











     {.%endfor%}





 





    </ul>





 





 





    </p>





 





 





    </li>





 











    </ul>





 









































 









































 









































 









































 





</script>
